<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
<title>Elysia 3D 展示</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* ✅ iPhone 上流畅滑动 */
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* === 全屏容器 === */
#elysia-container {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  perspective: 800px;
}

/* === 主图 & 深度图 === */
#elysia-img, #elysia-depth {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform-style: preserve-3d;
  transition: transform 0.15s ease-out;
  will-change: transform;
}

#elysia-depth {
  mix-blend-mode: multiply;
  opacity: 0.6;
  pointer-events: none;
}

/* === 两条竖线 === */
.divider {
  position: absolute;
  top: 0;
  width: 10px;
  height: 100%;
  background: #000;
  z-index: 3;
  animation: breathe 3.5s ease-in-out infinite;
  box-shadow: 0 0 15px rgba(255,255,255,0.06), 0 0 25px rgba(150,150,255,0.05);
  transition: transform 0.2s ease-out;
}

#divider1 { left: 33.33%; }
#divider2 { left: 66.66%; }

@keyframes breathe {
  0%, 100% {
    opacity: 0.85;
    box-shadow: 0 0 10px rgba(180,160,255,0.1), 0 0 20px rgba(140,200,255,0.08);
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 20px rgba(180,160,255,0.25), 0 0 35px rgba(160,180,255,0.18);
  }
}

/* === 菜单按钮 === */
.menu-btn {
  position: fixed;
  top: calc(env(safe-area-inset-top) + 14px);
  left: 18px;
  width: 38px;
  height: 28px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  cursor: pointer;
  z-index: 10;
  opacity: 0;
  transition: opacity 0.5s ease;
}
.menu-btn.show { opacity: 1; }

.menu-btn div {
  height: 4px;
  border-radius: 2px;
  background: linear-gradient(90deg, rgba(180,150,255,0.8), rgba(150,180,255,0.6));
  box-shadow: 0 0 6px rgba(190,160,255,0.8);
}

/* === 菜单抽屉（液态玻璃） === */
.menu-panel {
  position: fixed;
  top: 0;
  left: 0;
  height: 100%;
  width: 240px;
  background: rgba(40, 30, 60, 0.4);
  border-right: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(16px) saturate(180%);
  transform: translateX(-100%);
  transition: transform 0.4s cubic-bezier(.25,.8,.25,1);
  z-index: 9;
}
.menu-panel.show {
  transform: translateX(0);
}

/* === iPhone安全区顶部 === */
.safe-area-top {
  position: fixed;
  top: env(safe-area-inset-top);
  left: 0;
  right: 0;
  height: env(safe-area-inset-top);
  background: transparent;
  z-index: 1;
}
  #elysia-foreground {
  filter: brightness(1.2) contrast(1.15) saturate(1.05);
}

#elysia-foreground::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 20%, rgba(255,255,255,0.25), transparent 60%);
  mix-blend-mode: soft-light;
  pointer-events: none;
}

</style>
</head>

<body>
<div id="elysia-container">
  <!-- 主图 & 深度图 -->
  <img id="elysia-img" src="assets/wallhaven-7p1v79.jpg" alt="Elysia">
  <img id="elysia-depth" src="assets/wallhaven-7p1v79-deepth.png" alt="Depth">

  <!-- 黑色竖线 -->
  <div id="divider1" class="divider"></div>
  <div id="divider2" class="divider"></div>

  <!-- 菜单按钮 -->
  <div class="menu-btn" id="menuBtn">
    <div></div><div></div><div></div>
  </div>

  <!-- 菜单 -->
  <div class="menu-panel" id="menuPanel">
    <!-- 后续添加内容 -->
  </div>
</div>
<div class="safe-area-top"></div>

<script>
const mainImg = document.getElementById('elysia-img');
const depthImg = document.getElementById('elysia-depth');
const divider1 = document.getElementById('divider1');
const divider2 = document.getElementById('divider2');
const menuBtn = document.getElementById('menuBtn');
const menuPanel = document.getElementById('menuPanel');

/* === 裸眼3D交互 === */
document.addEventListener('mousemove', e => {
  const x = (e.clientX / window.innerWidth - 0.5) * 30;
  const y = (e.clientY / window.innerHeight - 0.5) * -30;
  mainImg.style.transform = `rotateY(${x}deg) rotateX(${y}deg) scale(1.02)`;
  depthImg.style.transform = `rotateY(${x * 1.3}deg) rotateX(${y * 1.3}deg) scale(1.02)`;

  // 分割线轻微偏移
  divider1.style.transform = `translateX(${x * 1.2}px)`;
  divider2.style.transform = `translateX(${x * 1.2}px)`;
});

document.addEventListener('mouseleave', () => {
  mainImg.style.transform = 'rotateY(0deg) rotateX(0deg) scale(1)';
  depthImg.style.transform = 'rotateY(0deg) rotateX(0deg) scale(1)';
  divider1.style.transform = 'translateX(0)';
  divider2.style.transform = 'translateX(0)';
});

/* === 菜单按钮自动隐藏 === */
let scrollTimeout;
window.addEventListener('scroll', () => {
  menuBtn.classList.add('show');
  clearTimeout(scrollTimeout);
  scrollTimeout = setTimeout(() => menuBtn.classList.remove('show'), 2500);
});
setTimeout(() => menuBtn.classList.add('show'), 1000);
setTimeout(() => menuBtn.classList.remove('show'), 6000);

/* === 菜单交互 === */
menuBtn.addEventListener('click', e => {
  e.stopPropagation();
  menuPanel.classList.toggle('show');
});
document.addEventListener('click', e => {
  if (!menuPanel.contains(e.target) && e.target !== menuBtn) {
    menuPanel.classList.remove('show');
  }
});
</script>
</body>
</html>
