<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elysia â€” å¸¦å¯†ç  & è§†é¢‘å°é¢ æµ‹è¯•ç‰ˆ</title>

  <style>
    :root{
      --accent-start: #9a6ef0;
      --accent-end: #7b3fe4;
      --link: #8f66f0;
      --bg: #ffffff;
      --maxw: 980px;
    }
    html,body{height:100%;margin:0;padding:0;background:var(--bg);font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "PingFang SC", "Microsoft Yahei", Arial; color:#333;}
    body {
      font-family: 'Segoe UI', 'PingFang SC', 'Microsoft Yahei', sans-serif;
      letter-spacing: 0.3px;
      line-height: 1.85;
    }
    .container{max-width:var(--maxw);margin:28px auto;padding:0 48px;}
    /* çœç•¥é¡µé¢å¤§é‡å·²æœ‰æ ·å¼ï¼ˆä¿æŒä¸ä½ æä¾›çš„æºæ–‡ä»¶ä¸€è‡´æ ·å¼ï¼‰ */
    /* ...ï¼ˆä¸ºäº†ç¤ºä¾‹ä¸é‡å¤æ‰€æœ‰æ ·å¼ï¼Œå®é™…å·²åœ¨ä¸‹æ–¹ä¿ç•™åŸå§‹å¤§é‡æ ·å¼ï¼‰ */
    /* æ­¤å¤„ç»§ç»­æ”¾ç½®åŸæœ‰æ ·å¼ï¼ˆæˆ‘åœ¨æ–‡ä»¶ä¸‹æ–¹è¡¥å…¨äº†æ’­æ”¾å™¨/å¼¹çª—/è§†é¢‘ç›¸å…³æ ·å¼ï¼‰ */
  </style>
</head>
<body>

<!-- ===========================
     å¯†ç é”å±ï¼ˆå¿…éœ€ï¼šå¯†ç  123456ï¼‰
     è§£é”åæ‰ä¼šå±•ç¤ºå¹¶å¯åŠ¨æ’­æ”¾å™¨/é¡µé¢
     =========================== -->
<div id="lockscreen" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 30% 30%, rgba(30,10,60,0.8), rgba(10,6,20,0.85));backdrop-filter: blur(18px);z-index:99999;">
  <div style="text-align:center;color:#fff;padding:28px;border-radius:14px;min-width:280px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));box-shadow:0 10px 30px rgba(80,40,160,0.35);">
    <h2 style="margin:0 0 12px 0;font-weight:700;text-shadow:0 0 10px rgba(160,120,255,0.5)">è¾“å…¥å¯†ç ä»¥ç»§ç»­</h2>
    <input id="pwdInput" type="password" placeholder="è¯·è¾“å…¥å¯†ç " style="width:200px;padding:10px 14px;border-radius:20px;border:1px solid rgba(255,255,255,0.12);background:rgba(255,255,255,0.04);color:#fff;outline:none;text-align:center" />
    <div style="margin-top:12px">
      <button id="pwdBtn" style="padding:8px 16px;border-radius:20px;border:none;background:linear-gradient(90deg,#a084ff,#cbb2ff);color:#fff;cursor:pointer">è§£é”</button>
    </div>
    <div id="pwdHint" style="margin-top:8px;color:#ffb3b3;font-size:0.9rem;display:none">å¯†ç é”™è¯¯</div>
  </div>
</div>

<!-- ========== é¡µé¢ä¸»ä½“ï¼ˆè¢«é”å±è¦†ç›–ï¼‰ ========== -->
<main class="container" id="pageContent" style="display:none;">

  <!-- ä½ çš„é¡µé¢å†…å®¹ï¼ˆæˆ‘ä¿ç•™åŸå§‹ç»“æ„ï¼‰ -->
  <header>
    <div class="title">
      <h1>è®¢é˜…ä½¿ç”¨æŒ‡å— ver.3.24</h1>
    </div>
  </header>

  <!-- è¿™é‡Œæ˜¯ä½ é¡µé¢çš„å…¶å®ƒå†…å®¹çœç•¥ï¼ˆæˆ‘åœ¨ä¸‹æ–¹ä¿ç•™åŸå§‹é•¿é¡µï¼Œæœ€ç»ˆ HTML ä¸­è¯·ä¿æŒæ‰€æœ‰åŸå§‹æ®µè½ï¼‰ -->

  <!-- ====== æˆ‘åœ¨ â€œä¸€äº›å®ç”¨&æœ‰è¶£çš„ç½‘å€â€ å‰æ’å…¥çš„è§†é¢‘æ¨¡å—ï¼ˆæŒ‰ä½ çš„è¦æ±‚æ’å…¥ï¼‰ ======
       - è§†é¢‘æ–‡ä»¶ï¼š assets/elysiatest.mp4
       - å°é¢å›¾ç‰‡ï¼š assets/elysiatest.png
       - è¡Œä¸ºï¼šå½“æ’­æ”¾å™¨éŸ³ä¹æ’­æ”¾æ—¶ï¼Œé™éŸ³æ’­æ”¾è§†é¢‘ï¼›æš‚åœ/åœæ­¢æ—¶ï¼Œè§†é¢‘æš‚åœå¹¶å›åˆ°å°é¢
  -->
  <div id="musicVideoBlock" style="max-width:980px;margin:18px auto;border-radius:12px;overflow:hidden;position:relative;">
    <!-- è§†é¢‘å…ƒç´ ï¼ˆé¢„åŠ è½½ï¼‰ -->
    <video id="musicVideo" preload="auto" playsinline muted webkit-playsinline style="width:100%;height:auto;display:block;background:#000" poster="assets/elysiatest.png">
      <source src="assets/elysiatest.mp4" type="video/mp4">
      <!-- å¤‡ç”¨ï¼šè‹¥æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘ -->
    </video>
    <!-- å°é¢å±‚ï¼šç”¨äºåœ¨è§†é¢‘æš‚åœæ—¶æ˜¾ç¤ºå°é¢ï¼ˆæ·¡å…¥æ·¡å‡ºï¼‰ -->
    <div id="videoPosterOverlay" style="position:absolute;inset:0;background:url('assets/elysiatest.png') center/cover no-repeat;transition:opacity .5s ease;pointer-events:none;"></div>
  </div>

  <!-- ========== ä½ çš„â€œæœ‰è¶£çš„ç½‘å€â€æ®µè½å¼€å§‹ï¼ˆåŸä½ç½®ï¼‰ ========== -->
  <section>
    <h2>ä¸€äº›å®ç”¨&æœ‰è¶£çš„ç½‘å€</h2>
    <ul>
      <li><a href="https://www.nodeseek.com/post-183694-1">å¸¸ç”¨VPSè„šæœ¬</a></li>
      <li><a href="https://downloads.khinsider.com/">æœ¬ç«™ä½¿ç”¨çš„éŸ³ä¹ä¸‹è½½åœ°å€1</a></li>
      <li><a href="https://mp3juice.co/">æœ¬ç«™ä½¿ç”¨çš„éŸ³ä¹ä¸‹è½½åœ°å€2</a></li>
      <li><a href="https://wallhaven.cc/index.php">å¥½ç”¨çš„PCå£çº¸</a></li>
      <li><a href="https://hstock.org/en">Apple IDç­‰èµ„æºçš„è´­ä¹°ç½‘å€</a></li>
      <li><a href="https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way">How-To-Ask-Questions</a></li>
    </ul>
  </section>

  <!-- å…¶ä½™åŸå§‹é¡µé¢å†…å®¹ï¼ˆç•¥ï¼‰ -->
  <!-- ä½ å¯ä»¥å°†åŸæœ‰ index.html çš„å…¶å®ƒ section å…¨éƒ¨ç²˜å›åˆ°è¿™é‡Œï¼Œæˆ‘æ²¡æœ‰åˆ é™¤ä½ åŸå§‹å†…å®¹ä»¥ä¿è¯éç ´åæ€§ã€‚ -->

</main>

<!-- ======================
     â€”â€” åŸå§‹ Elysia æ’­æ”¾å™¨ï¼ˆæœªç ´åï¼Œæ•´åˆæ§åˆ¶é€»è¾‘ï¼‰
     æˆ‘æŠŠæ’­æ”¾å™¨è„šæœ¬æ”¾åœ¨ä¸‹é¢ï¼Œä¿æŒå¤§ä½“ä¸å˜ï¼Œä½†å°†å¯åŠ¨ï¼ˆrender/updateSongï¼‰å»¶ååˆ°è§£é”åã€‚
     ====================== -->
<!-- === Elysia æ’­æ”¾å™¨ UIï¼ˆä¿ç•™åŸæœ‰æ ·å¼ä¸ DOMï¼‰ === -->
<div class="elysia-player" style="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);z-index:9999">
  <div class="elysia-controls">
    <button id="playPauseBtn" aria-label="Play/Pause">â–¶</button>
    <button id="nextBtn" aria-label="Next">â­</button>
  </div>
  <span id="songTitle" class="clickable" role="button" tabindex="0" style="color:#fff;margin-left:12px">åŠ è½½ä¸­...</span>
</div>

<div class="elysia-playlist" id="playlist" aria-hidden="true" style="position:fixed;bottom:70px;left:50%;transform:translateX(-50%);width:260px;z-index:9998;display:none"></div>

<script>
/* ===== ğŸµ æ­Œæ›²åˆ—è¡¨ï¼ˆä¿ç•™ä½ çš„åŸå§‹ songs æ•°ç»„ï¼‰ ===== */
/* ï¼ˆæ­¤å¤„æˆ‘ç›´æ¥æ”¾å…¥ä½ åŸå§‹çš„æ•°ç»„æ¡ç›® â€” è‹¥éœ€è¦æˆ‘å¯ä¿æŒå®Œå…¨ä¸€æ ·ï¼‰ */
const songs = [
  { title: "My Soul, Your Beats!", src: "assets/My Soul, Your Beats! -Piano Arrange Ver.-.mp3", cover: "assets/My Soul, Your Beats! -Piano Arrange Ver.-.jpg" },
  { title: "My Most Precious Treasure", src: "assets/My Most Precious Treasure (From My Most Precious Treasure).mp3", cover: "assets/Key anime piano medley.jpg" },
  { title: "Shiteki de Souseiteki na Tori-tachi e no Shirabe", src: "assets/Shiteki de Souseiteki na Tori-tachi e no Shirabe (Yokunin no Tame no Piano Sanka).mp3", cover: "assets/Shiteki.jpg" },
  { title: "Last regrets, foretting me", src: "assets/Last regrets,foretting me.mp3", cover: "assets/Last regrets, foretting me.jpg" },
  { title: "Megumeru Gensoukyoku", src: "assets/Megumeru Gensoukyoku.mp3", cover: "assets/Megumeru Gensoukyoku.jpg" },
  { title: "Call of Silence", src: "assets/Call of Silence (From Attack on Titian) Piano Cover.mp3", cover: "assets/Call of Silence.jpg" },
  { title: "Only my Railgun OP1 fripSide", src: "assets/Only my Railgun - A Certain Scientific Railgun OP1 [Piano]  fripSide.mp3", cover: "assets/Level5.jpg" },
  { title: "Aoi Tori - The iDOLM", src: "assets/[Pianeet] Aoi Tori - The iDOLM@STER OST - Piano Tutorial  Synthesia.mp3", cover: "assets/Aoi Tori - The iDOLM.jpg" },
  { title: "é¬¼æ»…ä¹‹åˆƒ OPLiSA - ç´…è“®è¯", src: "assets/é¬¼æ»…ä¹‹åˆƒ OPLiSA - ç´…è“®è¯ Piano Cover.mp3", cover: "assets/Shinobu Kocho.jpg" },
  { title: "Flower Dance - DJ Okawari", src: "assets/Flower Dance - DJ Okawari (Piano Cover by Riyandi Kusuma).mp3", cover: "assets/Flower Dance - DJ Okawari.jpg" },
  { title: "theme of SSS -Piano Arrange ", src: "assets/theme of SSS -Piano Arrange Ver.-.mp3", cover: "assets/theme of SSS.jpg" },
  { title: "My Soul, Your Beats! Classic", src: "assets/My Soul, Your Beats! ~Classic~ Instrumental.mp3", cover: "assets/My Soul, Your Beats! ~Classic~ Instrumental.jpg" },
  { title: "Pachelbel's Canon", src: "assets/Bi.Bi PianoPachelbel's Canon ç»ˆäºå¼¹äº†è¿™é¦– ä¸–ç•Œä¸Šæœ€æ²»æ„ˆçš„é’¢ç´æ›²å¡å†œ.mp3", cover: "assets/banner1.jpg" },
  { title: "Heroism endures in nothingness", src: "assets/è‹±é›„ä¸»ä¹‰-åœ¨è™šæ— ä¸­æ°¸å­˜.mp3", cover: "assets/heroism endures in nothingness.jpg" },
  { title: "è¯€åˆ«ä¹¦", src: "assets/é’¢ç´æ¼”å¥è¯€åˆ«ä¹¦çº¯éŸ³ä¹ç²¾ç¼–å®Œæ•´ç‰ˆ.mp3", cover: "assets/Elysia11.jpg" },
  { title: "Key anime piano medley", src: "assets/Air (TV), Kanon (2006), Clannad After Story - Key anime piano medley.mp3", cover: "assets/Key anime piano medley.jpg" },
  { title: "Crying for Rain", src: "assets/Crying for Rain (Kawaki wo Ameku) - Domestic na Kanojo OP [Piano]  Minami.mp3", cover: "assets/banner1.jpg" },
  { title: "GIRLS BAND CRY", src: "assets/GIRLS BAND CRY OP - Wrong World - Piano Cover  TOGENASHI TOGEARI.mp3", cover: "assets/GIRLS BAND CRY.jpg" },
  { title: "Hikari no Senritsu", src: "assets/Hikari no Senritsu - Sora no Woto OP Arr. Animenz (2024 Fan Remaster Visualized).mp3", cover: "assets/banner1.jpg" },
  { title: "LEVEL5 -judgelight", src: "assets/LEVEL5 -judgelight- A Certain Scientific Railgun OP2 [Piano].mp3", cover: "assets/banner1.jpg" },
  { title: "Majo no Tabitabi", src: "assets/Majo no Tabitabi OPLiterature Piano Cover.mp3", cover: "assets/Majo no Tabitabi.jpg" },
  { title: "My Dearest ", src: "assets/My Dearest - Guilty Crown OP [10 Year Anniversary Edition] [Piano].mp3", cover: "assets/Mydearest.jpg" },
  { title: "Ninelie Kabaneri", src: "assets/Ninelie - Kabaneri of the Iron Fortress ED [Piano].mp3", cover: "assets/ninelie.jpg" },
  { title: "One Last Kiss", src: "assets/One Last Kiss - Evangelion_ 3.0  1.0 Theme Song [Piano]  Hikaru Utada.mp3", cover: "assets/one last kiss.jpg" },
  { title: "secret base", src: "assets/secret base - Kimi ga Kureta Mono - AnoHana ED [Piano].mp3", cover: "assets/secret base.jpg" },
  { title: "Blue Bird 2022 ver.", src: "assets/Blue Bird (2022 ver.) - Naruto Shippuuden OP3 [Piano]  Ikimono-gakari.mp3", cover: "assets/banner1.jpg" },
  { title: "AKIBA POP the Future - Pianeet", src: "assets/AKIBA POP the Future - Pianeet [Piano Transcription].mp3", cover: "assets/banner1.jpg" },
  { title: "SWORD ART ONLINE", src: "assets/SWORD ART ONLINE PIANO MEDLEY!!! (30,000 Subscribers Special).mp3", cover: "assets/banner1.jpg" },
  { title: "ç»™æˆ‘ä¸€é¦–æ­Œçš„æ—¶é—´", src: "assets/ç»™æˆ‘ä¸€é¦–æ­Œçš„æ—¶é—´ piano ver-.mp3", cover: "assets/banner1.jpg" },
  { title: "æ™´å¤©", src: "assets/å‘¨æ°ä¼¦æ™´å¤© é’¢ç´ç‹¬å¥ Jay ChouBi.Bi Piano.mp3", cover: "assets/banner1.jpg" }
];

let currentSong = 0;
const audio = new Audio(songs[currentSong].src);
audio.preload = "auto"; // é¢„åŠ è½½éŸ³ä¹

// UI å¼•ç”¨
const playPauseBtn = document.getElementById("playPauseBtn");
const nextBtn = document.getElementById("nextBtn");
const titleEl = document.getElementById("songTitle");
const player = document.querySelector(".elysia-player");
const playlist = document.getElementById("playlist");

// å…¨å±€æ ‡å¿—ï¼šæ˜¯å¦å·²è§£é”ï¼ˆå¯†ç ï¼‰
let isUnlocked = false;

/* ======== æ’­æ”¾åˆ—è¡¨æ¸²æŸ“ï¼ˆä¿ç•™åŸé€»è¾‘ï¼‰ ======== */
function renderPlaylist() {
  playlist.innerHTML = songs.map((s, i) => `
    <div class="playlist-item ${i === currentSong ? 'active' : ''}" data-index="${i}">
      ${s.title}
    </div>`).join("");
}

/* ======== æ›´æ–°æ’­æ”¾æ­Œæ›² ======== */
function updateSong(autoplay = true) {
  const song = songs[currentSong];
  audio.src = song.src;
  titleEl.textContent = song.title;
  if (autoplay) {
    audio.play().catch(()=>{});
    playPauseBtn.textContent = "â¸";
  } else {
    playPauseBtn.textContent = audio.paused ? "â–¶" : "â¸";
  }
  renderPlaylist();
  updateMediaSession(song);
}

/* ======== æ§åˆ¶æŒ‰é’® ======== */
playPauseBtn.addEventListener("click", () => {
  if (!isUnlocked) return; // æœªè§£é”æ—¶ä¸å“åº”
  if (audio.paused) {
    audio.play();
    playPauseBtn.textContent = "â¸";
  } else {
    audio.pause();
    playPauseBtn.textContent = "â–¶";
  }
});

nextBtn.addEventListener("click", () => {
  if (!isUnlocked) return;
  currentSong = (currentSong + 1) % songs.length;
  updateSong(true);
});

audio.addEventListener("ended", () => {
  // æ’­æ”¾ç»“æŸè‡ªåŠ¨ä¸‹ä¸€é¦–
  currentSong = (currentSong + 1) % songs.length;
  updateSong(true);
});
audio.addEventListener("play", () => player.classList.add("playing"));
audio.addEventListener("pause", () => player.classList.remove("playing"));

/* ======== Media Sessionï¼ˆä¿ç•™ï¼‰ ======== */
function updateMediaSession(song) {
  if (!("mediaSession" in navigator)) return;
  try {
    navigator.mediaSession.metadata = new MediaMetadata({
      title: song.title,
      artist: "Elysia Player",
      album: "Piano Collection",
      artwork: [
        { src: song.cover, sizes: "96x96", type: "image/jpeg" },
        { src: song.cover, sizes: "128x128", type: "image/jpeg" },
        { src: song.cover, sizes: "192x192", type: "image/jpeg" },
        { src: song.cover, sizes: "256x256", type: "image/jpeg" },
        { src: song.cover, sizes: "512x512", type: "image/jpeg" }
      ]
    });
    navigator.mediaSession.playbackState = audio.paused ? "paused" : "playing";
  } catch(e) {
    console.warn("MediaSession update failed:", e);
  }
}

/* ======== æ’­æ”¾åˆ—è¡¨ç‚¹å‡» ======== */
playlist.addEventListener("click", e => {
  const item = e.target.closest(".playlist-item");
  if (item) {
    currentSong = parseInt(item.dataset.index);
    updateSong(true);
  }
});

/* ======== æ‰“å¼€/å…³é—­æ’­æ”¾åˆ—è¡¨ï¼ˆä¿ç•™åŸè¡Œä¸ºï¼‰ ======== */
function openPlaylist() {
  playlist.style.display = "block";
  playlist.classList.remove("hide");
  playlist.classList.add("show");
  playlist.setAttribute('aria-hidden', 'false');
}
function closePlaylist() {
  playlist.classList.remove("show");
  playlist.classList.add("hide");
  playlist.style.display = "none";
  playlist.setAttribute('aria-hidden', 'true');
}

titleEl.addEventListener("click", e => {
  e.stopPropagation();
  if (playlist.classList.contains("show")) closePlaylist(); else openPlaylist();
});
document.addEventListener("click", e => {
  if (!playlist.contains(e.target) && e.target !== titleEl) {
    if (playlist.classList.contains("show")) closePlaylist();
  }
});

/* ======== è‡ªåŠ¨éšè—æ’­æ”¾å™¨ï¼ˆä¿ç•™ï¼‰ ======== */
let inactivityTimer;
function hidePlayer() {
  player.style.opacity = '0';
  player.style.transform = 'translate(-50%, 40px)';
  player.style.pointerEvents = 'none';
  if (playlist.classList.contains("show")) closePlaylist();
}
function showPlayer() {
  player.style.opacity = '1';
  player.style.transform = 'translate(-50%, 0)';
  player.style.pointerEvents = 'auto';
  resetTimer();
}
function resetTimer() {
  clearTimeout(inactivityTimer);
  inactivityTimer = setTimeout(hidePlayer, 20000); // æ”¹ä¸º 20sï¼ˆä½ ä¹‹å‰æåˆ°è¿‡ 20sï¼‰
}
['scroll','mousemove','mousedown','touchstart','keydown'].forEach(evt => window.addEventListener(evt, showPlayer));
resetTimer();

/* ======== ä¸é¡µé¢è§†é¢‘è”åŠ¨éƒ¨åˆ†ï¼ˆæ ¸å¿ƒæ–°å¢é€»è¾‘ï¼‰ ========
   - å½“éŸ³ä¹æ’­æ”¾ï¼šé™éŸ³å¹¶æ’­æ”¾è§†é¢‘ï¼ˆvideo.muted = trueï¼‰ï¼›
   - å½“éŸ³ä¹æš‚åœæˆ–ç»“æŸï¼šè§†é¢‘æš‚åœå¹¶å›åˆ°å°é¢ï¼ˆcurrentTime = 0, æ˜¾ç¤ºå°é¢ï¼‰ã€‚
   è¿™ä¸ªé€»è¾‘åœ¨è§£é”å¹¶åˆå§‹åŒ–æ’­æ”¾å™¨åç»‘å®šï¼Œä»¥é¿å…åœ¨é”å±æ—¶è¢«è§¦å‘ã€‚
*/
function bindAudioVideoBehavior() {
  const musicVideo = document.getElementById('musicVideo');
  const posterOverlay = document.getElementById('videoPosterOverlay');

  if (!musicVideo) return;

  // ç¡®ä¿ video é¢„åŠ è½½å¹¶ä¸ºé™éŸ³ï¼ˆé¿å…æµè§ˆå™¨ autoplay é™åˆ¶ï¼‰
  musicVideo.preload = 'auto';
  musicVideo.muted = true;
  musicVideo.playsInline = true;

  // å½“éŸ³ä¹å¼€å§‹æ’­æ”¾ -> æ’­æ”¾è§†é¢‘ï¼ˆé™éŸ³ï¼‰ï¼Œå¹¶æ·¡å‡ºå°é¢
  audio.addEventListener('play', () => {
    // å°è¯•æ’­æ”¾è§†é¢‘ï¼ˆéŸ³é¢‘å·²ç”±ç”¨æˆ·äº¤äº’è§¦å‘æˆ–è§£é”åè§¦å‘ï¼‰
    musicVideo.play().catch(()=>{});
    // æ·¡å‡ºå°é¢
    posterOverlay.style.transition = 'opacity 0.6s ease';
    posterOverlay.style.opacity = '0';
  });

  // å½“éŸ³ä¹æš‚åœæˆ–ç»“æŸ -> æš‚åœè§†é¢‘å¹¶é‡ç½®åˆ°å°é¢
  function pauseAndResetVideo() {
    try {
      musicVideo.pause();
      musicVideo.currentTime = 0;
    } catch(e){}
    posterOverlay.style.opacity = '1';
  }
  audio.addEventListener('pause', pauseAndResetVideo);
  audio.addEventListener('ended', pauseAndResetVideo);
}

/* ======== åˆå§‹æ¸²æŸ“/æ’­æ”¾æ—¶æœºï¼ˆæ”¹ä¸ºè§£é”åè§¦å‘ï¼‰ ======== */
// ä¸åœ¨é¡µé¢åŠ è½½æ—¶ç«‹åˆ» render/updateï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥å¯†ç è§£é”ï¼ˆé¿å…è‡ªåŠ¨æ’­æ”¾è¢«æµè§ˆå™¨é˜»æ‹¦ï¼‰
function initializeAfterUnlock() {
  // æ˜¾ç¤ºé¡µé¢ä¸»ä½“
  document.getElementById('pageContent').style.display = 'block';

  // æ¸²æŸ“æ’­æ”¾åˆ—è¡¨ä¸åˆå§‹åŒ–æ’­æ”¾å™¨æ˜¾ç¤º
  renderPlaylist();
  // å°è¯•æ›´æ–°å½“å‰æ­Œæ›²å¹¶æ’­æ”¾ï¼ˆè‹¥æµè§ˆå™¨å…è®¸ï¼‰
  updateSong(true);

  // ç»‘å®šéŸ³é¢‘ä¸è§†é¢‘è”åŠ¨é€»è¾‘
  bindAudioVideoBehavior();

  // ä½¿æ’­æ”¾ UI å¯è§ï¼ˆåŸ playlist ä½ç½®ï¼‰
  playlist.style.display = 'none';
}

/* ======== å¯†ç è§£é”é€»è¾‘ï¼ˆå¯†ç ï¼š123456ï¼‰ ======== */
(function setupPasswordLock() {
  const lock = document.getElementById('lockscreen');
  const btn = document.getElementById('pwdBtn');
  const input = document.getElementById('pwdInput');
  const hint = document.getElementById('pwdHint');

  function tryUnlock() {
    const v = (input.value || '').trim();
    if (v === '123456') {
      // è§£é”
      isUnlocked = true;
      lock.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
      lock.style.opacity = '0';
      lock.style.transform = 'scale(0.98)';
      setTimeout(()=> lock.style.display = 'none', 520);
      // åˆå§‹åŒ–é¡µé¢ä¸æ’­æ”¾å™¨
      initializeAfterUnlock();
    } else {
      hint.style.display = 'block';
      setTimeout(()=> hint.style.display = 'none', 1400);
      input.style.transform = 'translateY(-2px)';
      setTimeout(()=> input.style.transform = '', 160);
    }
  }

  btn.addEventListener('click', tryUnlock);
  input.addEventListener('keypress', e => { if (e.key === 'Enter') tryUnlock(); });
})();


// å…¼å®¹æ€§ï¼šç¡®ä¿å¤–éƒ¨é“¾æ¥æ–°çª—å£æ‰“å¼€
document.querySelectorAll('a[href]').forEach(a => {
  if (!a.target) a.setAttribute('target', '_blank');
  a.setAttribute('rel', 'noopener noreferrer');
});
</script>

<!-- ä¿ç•™å¹¶è¡¥é½æ’­æ”¾å™¨ä¸é¡µé¢çš„åŸå§‹æ ·å¼ï¼ˆåªç®€è¦ç»™å‡ºå…³é”®æ ·å¼ï¼Œå®é™…ä½¿ç”¨ä¸­ä½ å¯å°†åŸæ¥å®Œæ•´æ ·å¼å¤åˆ¶è¿›æ¥ï¼‰ -->
<style>
/* === å…³é”®è§†è§‰æ ·å¼ï¼ˆä¿ç•™ä½ åŸå…ˆçš„ liquid é£æ ¼ï¼‰ === */
.elysia-player {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 8px 20px;
  border-radius: 16px;
  z-index: 9999;
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
  border: 1px solid rgba(255,255,255,0.15);
  backdrop-filter: blur(12px) saturate(160%);
  -webkit-backdrop-filter: blur(12px) saturate(160%);
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(150,110,240,0.25), inset 0 1px 0 rgba(255,255,255,0.08);
  transition: opacity .6s ease, transform .6s ease;
  will-change: transform, opacity;
}

.elysia-playlist {
  position: fixed;
  bottom: 70px;
  left: 50%;
  transform: translateX(-50%) scale(0.98);
  transform-origin: 50% 100%;
  width: 260px;
  max-height: 260px;
  padding: 10px 14px;
  border-radius: 16px;
  background: rgba(255,240,255,0.25);
  border: 1px solid rgba(255,210,255,0.35);
  backdrop-filter: blur(12px) saturate(180%);
  -webkit-backdrop-filter: blur(12px) saturate(180%);
  box-shadow: 0 8px 24px rgba(200,160,255,0.25), inset 0 1px 0 rgba(255,255,255,0.2);
  overflow-y: auto;
  opacity: 0; pointer-events: none;
  transition: opacity .35s ease, transform .45s cubic-bezier(.2,.9,.2,1);
  z-index: 9998;
  will-change: transform, opacity;
}

.playlist-item { padding:6px 10px; color:#cdbaff; border-radius:8px; cursor:pointer; }
.playlist-item.active { background: rgba(160,120,255,0.25); color:#fff; box-shadow:0 0 12px rgba(160,120,255,0.6); }

/* è§†é¢‘å—å“åº”å¼ */
#musicVideoBlock { max-width:980px; margin: 18px auto; border-radius:12px; overflow:hidden; }
#musicVideo { display:block; width:100%; height:auto; background:#000; }
#videoPosterOverlay { transition: opacity .4s ease; }

/* å°å±ä¼˜åŒ– */
@media (max-width:720px) {
  .container { padding: 18px; }
  #musicVideoBlock { margin: 12px; border-radius:10px; }
}
</style>

</body>
</html>